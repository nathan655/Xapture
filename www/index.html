<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"/>
    <link rel="stylesheet" href="css/index.css">
    <title>Xapture</title>
</head>
<body>
<!-- Fixed navbar -->
<div class="navbar-fixed">
    <nav class="blue accent-3">
        <div class="nav-wrapper container">
            <a href="#!" class="brand-logo center"><img src="img/white-logo-xapture.svg" class="responsive-img logo-top"
                                                        height="16" alt="Logo"></a>
            <a href="#!" data-target="nav-mobile" class="sidenav-trigger show-on-large">
                <i class="material-icons">menu</i>
            </a>
        </div>
    </nav>
</div>
<!-- Fixed sideNav -->
<ul id="nav-mobile" class="margin-1 sidenav ">
    <li><a href="#!" data-show="tabCamera"><i class="material-icons">camera</i>Camera</a></li>
    <li>
        <div class="divider"></div>
    </li>
    <li><a href="#!" data-show="tabNotes"><i class="material-icons">notes</i>Notes</a></li>
    <li>
        <div class="divider"></div>
    </li>
    <li><a href="#!" data-show="tabQuote"><i class="material-icons">light_mode</i>Quote of the day</a></li>
    <li>
        <div class="divider"></div>
    </li>
    <li><a href="#!" data-show="tabSetting"><i class="material-icons">settings</i>Setting</a></li>
    <li>
        <div class="divider"></div>
    </li>
    <li><a href="#!" data-show="tabInfo"><i class="material-icons">info</i>Info</a></li>
</ul>
<!-- Grid -->
<div class="container body ">
    <div class="row spa" id="tabCamera">
        <div class="col s12">
            <h4><i class="material-icons">camera</i> Camera</h4>
            <div id="imageBand">
                <img class="materialboxed center-block" id="myImage"></div>
            <div class="center-align">
                <button class="center btn save-picture blue accent-3"><i class="material-icons">save</i></button>
            </div>

            <div class="center camera"></div>
            <div class="row">
                <button class="col s6 btn btn-block blue accent-3" id="cameraTakePicture">TAKE PICTURE</button>
                <button class="col s6 btn blue accent-3" id="cameraGetPicture">GET PICTURE</button>
            </div>

            <p id="msg"></p>
        </div>
    </div>

    <div class="row spa" id="tabNotes">
        <div class="col s12">
            <h4><i class="material-icons">notes</i> Notes</h4>
            <h5 class="disabled center-align grey-text no-notes text-accent-4">You have no notes. Click the button to
                add notes</h5>
            <div class="notes row"></div>
            <a data-target="modal1"
               class="modal-trigger btn-floating add-note right pin-bottom direction-bottom btn waves-effect blue accent-3 waves-light"><i
                    class="material-icons">add</i></a>
            <div id="modal1" class="modal" data-colour="">
                <div class="modal-content">
                    <form action=" ">
                        <label for="modal-header"></label>
                        <input type="text" id="modal-header" class="text-accent-3 center" name="modal-header">
                        <div class="row">
                            <div class="input-field col s12">
                                <textarea id="textarea1" class="materialize-textarea"></textarea>
                                <label for="textarea1">*-Content-*</label>
                            </div>
                        </div>
                    </form>
                    <h5 class="black-text center text-accent-1 modal-back">Background colours</h5>
                    <ul class="row colours ">
                    </ul>

                </div>
                <div class="modal-footer">
                    <a href="#!" class="modal-close save waves-effect waves-green btn-flat">Save</a>
                </div>

            </div>
        </div>
    </div>
    <div class="row spa" id="tabQuote">
        <div class="col s12 center">
            <h4 class="left-align"><i class="material-icons">light_mode</i> Quote of the Day</h4>
            <div id="txtHint"></div>
            <h1 class="ribbon">
                <strong class="ribbon-content">Your quote would appear here</strong>
            </h1>
            <button class="btn waves-effect waves-light center blue accent-3" id="clicky">Random Daily Quote!<i
                    class="material-icons right">send</i></button>
            <h5 id="demo"></h5>
            <br>
            <br>
            <button class="print btn waves-effect blue accent-3"><i class="material-icons">print</i></button>
        </div>
    </div>
    <div class="row spa" id="tabSetting">
        <div class="col s12">
            <h4><i class="material-icons">settings</i>Settings</h4>
            <h6>Theme</h6>
            <hr>
            <div class="switch">
                <label for="theme">
                    Dark
                    <input type="checkbox" id="theme" name="theme" class="theme"/>
                    <span class="lever"></span>
                    Light
                </label>
            </div>
            <br>
            <!--            <h6>Notifications</h6>-->
            <!--            <hr>-->
        </div>
    </div>
    <div class="row spa" id="tabInfo">
        <div class="col s12 container">
            <h4><i class="material-icons">info</i> Info</h4>
            <h5 class="center">About Xapture</h5>
            <div class="divider"></div>
            <br>
            <div class="indent">
                <p>This app is a multipurpose app that helps manage your daily tasks and activities as well as making
                    it pleasurable. You could take notes to help keep track of activities and lists you would work on
                    during your app use. If you encounter errors while using the app, please use the contact form to
                    send a distress message regarding your complaint. Select the type of form from the list that you
                    would like to send to begin. You could also find my personal email and phone
                    number below for more information privately. Explore the app's many functionalities and make sure
                    you have fun!</p>
                <blockquote><strong>Note: </strong>You need to be connected to the internet to use most of the app's
                    functionalities
                </blockquote>
            </div>
            <br>
            <h5 class="center">Contact</h5>
            <div class="divider"></div>
            <br>
            <div class="input-field col s12">
                <select>
                    <option value="" disabled selected>Choose a contact option</option>
                    <option value="complaint">Complaint</option>
                    <option value="suggestions">Suggestions</option>
                    <option value="reviews">Reviews</option>
                </select>
                <label>Form Selection</label>
            </div>
            <div class="container contact-form">
                <div class="row center-align">
                    <form class="col s12 comp-form">
                        <div class="row">
                            <div class="input-field col s6">
                                <input placeholder="First Name" name="firstName" id="first_name" type="text"
                                       class="validate">
                                <label for="first_name">First Name</label>
                            </div>
                            <div class="input-field col s6">
                                <input id="last_name" placeholder="Last Name" name="lastName" type="text"
                                       class="validate">
                                <label for="last_name">Last Name</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="email" type="email" name="email" class="validate">
                                <label for="email">Email</label>
                                <span class="helper-text" data-error="inappropriate format" data-success="Good to go">Validator</span>
                            </div>
                        </div>
                        <div class="row">
                            <form class="col s12">
                                <div class="row">
                                    <div class="input-field col s12">
                                        <textarea id="complaint" name="complaint"
                                                  class="materialize-textarea"></textarea>
                                        <label for="complaint" class="complaint-label">Form</label>
                                    </div>
                                </div>
                                <label for="type"></label>
                                <input type="hidden" id="type" name="type">
                            </form>
                        </div>
                        <input type="submit" placeholder="Submit" value="submit" class="btn comp blue accent-3">
                    </form>

                </div>

            </div>
            <div class="wrapper confirm-comp">
                <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                    <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/>
                    <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                </svg>
                <h6 class="center-align">Sent!</h6>
            </div>
            <div class="w4rAnimated_checkmark">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130.2 130.2">
                    <circle class="path circle" fill="none" stroke="#D06079" stroke-width="6" stroke-miterlimit="10"
                            cx="65.1" cy="65.1" r="62.1"/>
                    <line class="path line" fill="none" stroke="#D06079" stroke-width="6" stroke-linecap="round"
                          stroke-miterlimit="10" x1="34.4" y1="37.9" x2="95.8" y2="92.3"/>
                    <line class="path line" fill="none" stroke="#D06079" stroke-width="6" stroke-linecap="round"
                          stroke-miterlimit="10" x1="95.8" y1="38" x2="34.4" y2="92.2"/>
                </svg>
                <h6 class="center-align">Contact provider privately regarding your problem</h6>
            </div>
            <h5 class="center">Personal Contact</h5>
            <div class="divider"></div>

            <table class="center responsive-table highlight">
                <thead>
                <tr>
                    <th>Media</th>
                    <th>Media Platform</th>
                    <th>Media Link</th>
                </tr>
                </thead>

                <tbody>
                <tr>
                    <td>
                        <i class="material-icons">call</i>
                    </td>
                    <td>Phone</td>
                    <td><a href="tel:0497190731">0497190731</a></td>
                </tr>
                <tr>
                    <td>
                        <i class="material-icons">textsms</i>
                    </td>
                    <td>SMS</td>
                    <td><a href="sms:0497190731">Click to text me</a></td>
                </tr>
                <tr>
                    <td>
                        <i class="material-icons">email</i>
                    </td>
                    <td>Email</td>
                    <td><a href="mailto:r0855536@student.thomasmore.be">r0855536@student.thomasmore.be</a></td>
                </tr>
                </tbody>
            </table>
            <br>
        </div>
    </div>
    <div class="row spa" id="tabNoteInternet">
        <div class="col s12">
            <h4 class="center-align"><i class="material-icons">wifi_off</i> No Internet Connection</h4>
            <div>
                <video src="img/animated_medium20190830-29222-m6anl7%20(1).mp4" type="video/mp4" class="wifi" autoplay
                       loop></video>
            </div>
        </div>
    </div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="cordova.js"></script>
<script src="js/theme.js"></script>
<script src="js/camera.js"></script>
<script src="js/form.js"></script>
<script src="js/database.js"></script>

<script defer src="js/app.js"></script>
<script>
    $(document).ready(function () {
        if (/Android/i.test(navigator.userAgent)) {
            delete window.sqlitePlugin;
        }
        $('.ribbon-content').addClass('grey-text')

        let count = 0;
        if (localStorage.getItem('count')) {
            $('.ribbon-content').text(localStorage.getItem("quote")).removeClass('grey-text');
            count = parseInt(localStorage.getItem('count'));
            if (count === 4) {
                $("#demo").empty();
                $("#clicky").addClass('disabled');
                let nextDay = parseInt(localStorage.getItem('next'))
                var x = setInterval(function () {
                    // Get today's date and time
                    var now = new Date().getTime();
                    // Find the distance between now and the count down date
                    var distance = nextDay - now;
                    // Time calculations for days, hours, minutes and seconds
                    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    var seconds = Math.floor((distance % (1000 * 60)) / 1000);
                    $("#demo").show();
                    // Output the result in an element with id="demo"
                    $("#demo").text("Waiting for: " + hours + "h "
                        + minutes + "m " + seconds + "s ");

                    // If the count down is over, write some text
                    if (distance < 0) {
                        clearInterval(x);
                        $('.ribbon .ribbon-content:before, .ribbon .ribbon-content:after').css({
                            "background": "#986794",
                            'border': '1.5em solid #986794',
                        });
                        $('.ribbon:before, .ribbon:after ').css({
                            'background': '#986794',
                            'border': "1.5em solid #986794"
                        })
                        $('.ribbon').css({
                            'background': '#986794',
                        })
                        $("#demo").text("Countdown Expired");
                        $("#demo").show().delay(5000).fadeOut();
                        $('.ribbon-content').text('Your quote would appear here').addClass("grey-text");
                        cordova.plugins.notification.local.schedule({
                            title: "Time's up!!",
                            text: "Time's up to receive your daily quote, don't forget to hydrate!",
                            foreground: true
                        });
                        // localStorage.setItem('count', 0);
                        localStorage.removeItem("count");
                        $("#clicky").removeClass('disabled');
                        count = 0;
                        $('#clicky').on('click', function () {
                            count += 1
                            localStorage.setItem('count', count);
                            //console.log(count)
                            getRandomQuote();

                        });
                    }
                }, 1000);
                $('.ribbon .ribbon-content:before, .ribbon .ribbon-content:after').css({
                    "background": "red",
                    'border': '1.5em solid red',
                });
                $('.ribbon:before, .ribbon:after ').css({
                    'background': 'red',
                    'border': "1.5em solid red"
                })
                $('.ribbon').css({
                    'background': 'red',
                })

            } else {
                $('#clicky').on('click', function () {
                    count += 1
                    localStorage.setItem('count', count);
                    //console.log(count)
                    getRandomQuote();

                });
            }

        } else {
            $('#clicky').on('click', function () {
                count += 1
                localStorage.setItem('count', count);
                getRandomQuote();

            });
        }

        function getRandomQuote() {
            if (localStorage.getItem('count') < 4) {
                let text = 1;
                $.ajax({    //create an ajax request to display.php
                    type: "POST",
                    data: {
                        text: text
                    },
                    url: "https://nathan655.sinners.be/ajax.php",
                    dataType: "json",   //expect html to be returned
                    success: function (response) {
                        function randomNumber(min, max) {
                            return Math.floor(Math.random() * (max - min)) + min;
                        }

                        const num = randomNumber(0, response.length);
                        $('.ribbon-content').text(response[num][0] + "\n and you're probably feeling " + response[num][1])
                            .removeClass('grey-text')
                        localStorage.setItem('quote', response[num][0])
                        $('.print').show().on('click', function () {
                            // cordova.plugins.printer.print(`${response[num][1]}`);
                            cordova.plugins.printer.print();
                        });
                    }

                });
            } else {
                $("#clicky").addClass('disabled');
                const now = new Date().getTime();
                alert('You can only get messages three times a day');
                $("#demo").empty();
                $("#demo").show();
                var countDownDate = new Date(now + 86400000).getTime();
                localStorage.setItem('next', countDownDate);
                var x = setInterval(function () {
                    let nextDay = localStorage.getItem('next');

                    // Get today's date and time
                    var now = new Date().getTime();

                    // Find the distance between now and the count down date
                    var distance = nextDay - now;

                    // Time calculations for days, hours, minutes and seconds
                    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    // Output the result in an element with id="demo"
                    $("#demo").text("Waiting for: " + hours + "h "
                        + minutes + "m " + seconds + "s ");

                    // If the count down is over, write some text
                    if (distance < 0) {
                        clearInterval(x);
                        $('.ribbon .ribbon-content:before, .ribbon .ribbon-content:after').css({
                            "background": "#986794",
                            'border': '1.5em solid #986794',
                        });
                        $('.ribbon:before, .ribbon:after ').css({
                            'background': '#986794',
                            'border': "1.5em solid #986794"
                        })
                        $('.ribbon').css({
                            'background': '#986794',
                        })
                        $("#demo").text("Countdown Expired");
                        $("#demo").show().delay(5000).fadeOut();
                        $('.ribbon-content').text('Your quote would appear here').addClass("grey-text");

                        cordova.plugins.notification.local.schedule({
                            title: "Time's up!!",
                            text: "Time's up to receive your daily quote, don't forget to hydrate!",
                            foreground: true
                        });
                        localStorage.setItem('count', 0);
                        count = 0;
                        $("#clicky").removeClass('disabled');
                    }
                }, 1000);
                $('.ribbon .ribbon-content:before, .ribbon .ribbon-content:after').css({
                    "background": "red",
                    'border': '1.5em solid red',
                });
                $('.ribbon:before, .ribbon:after ').css({
                    'background': 'red',
                    'border': "1.5em solid red"
                })
                $('.ribbon').css({
                    'background': 'red',
                })

            }
        }

    }, false);
</script>
</body>
</html>